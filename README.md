# Life XP (SwiftUI)

Life XP is an iOS 17 SwiftUI prototype that treats personal growth like a balanced RPG. The project is structured as a Swift Playgrounds app but can also be opened in Xcode for simulator/device builds.

## Tech stack
- SwiftUI + Observation/`ObservableObject` for state-driven UI.
- iOS 17 target with multiplatform (iPhone + iPad) support configured in `Package.swift`.
- `UserDefaults` persistence for tone, safe-mode, streaks, arc starts, and home layout preferences.
- Sample content generated in-code (no external storage or networking).

## Repository layout
- `Life XP.swiftpm/Package.swift` – Swift Package manifest generated by Swift Playgrounds, including the fallback manifest for non-Playgrounds environments.
- `Life XP.swiftpm/MyApp.swift` – entry point; creates `AppModel` and injects it into the SwiftUI hierarchy.
- `Life XP.swiftpm/AppModel.swift` – single source of truth for data, streak logic, preference persistence, and derived view helpers.
- `Life XP.swiftpm/Models/` – data structures:
  - `LifeDimension`, `ChecklistItem`, `CategoryPack`, `Arc`/`Chapter`/`Quest`, `Badge`.
- `Life XP.swiftpm/Data/` – sample data factories:
  - `PackLibrary` (per-dimension packs), `ArcLibrary` (prebuilt arcs), `SampleContent` (aggregates all static content + heavy-topic IDs).
- `Life XP.swiftpm/Utils/` – UI helpers and formatting extensions.
- Feature views (SwiftUI):
  - `ContentView` (tab scaffold + onboarding modal)
  - `OnboardingView` (focus, overwhelm, tone)
  - `HomeView` (life score, streaks, coach messages, quick actions)
- `ArcsView` (arc hub/detail, weekend challenge, badges)
  - `PacksView` (pack list/detail with PRO gating prompts)
  - `StatsAndShareViews` (XP breakdown, badge snippet, share card preview)
  - `SettingsView` (tone mode, safe mode, PRO unlock toggle)

## Data flow highlights
- **AppModel** publishes packs, arcs, completion set, tone/safe-mode, streak counters, and home layout flags. Streak updates occur whenever checklist or quest completion toggles. Arc start dates are tracked per-arc ID and persisted as timestamps.
- **Visibility & safe mode:** Heavy topics are filtered out via `SampleContent.heavyItemIDs` when `hideHeavyTopics` is true; helper methods like `items(for:)` and `allVisibleItems` centralize this logic.
- **Completion & XP:** Completion is stored per `id` for both quests and checklist items. XP totals are computed on the fly (see `xpTotal`, `dimensionXP`, `lifeScore` helpers in `AppModel.swift`).
- **Arcs:** Each `Arc` contains chapters with `Quest` nodes; `arcProgress(arc:)` returns percentage + completed counts.
- **Weekend challenge:** Generated inside `ArcsView` from random visible items split by dimension and duration (seeded by user mood selection).

## Running the project
### Xcode
1. Clone the repo.
2. Open `Life XP.swiftpm` as a package or convert to an Xcode project as needed.
3. Select an iOS 17+ simulator or device and build/run.

### Swift Playgrounds (iPad or macOS)
1. Copy or clone the repository (e.g., via Working Copy).
2. Open `Life XP.swiftpm` directly in Playgrounds.
3. Press Run to launch the app; changes hot-reload in the Live View.

## Development tips
- The manifest enables `BareSlashRegexLiterals`; ensure Swift 5.9+ toolchains are used in Xcode/CLI.
- Premium gating is currently a boolean (`premiumUnlocked`) with simple alerts; no StoreKit dependencies yet.
- Safe mode defaults to hiding heavy topics; reset by clearing app data or toggling in Settings.
- All persistence is local to `UserDefaults`; deleting the app or resetting the simulator clears progress.

## Contributing
PRs and issues are welcome—especially for improved architecture, content quality, accessibility, or real StoreKit entitlements.
